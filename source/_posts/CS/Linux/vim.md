---
title: Vim 
date: 2017-10-18
categories: Linux
type: asd
tag: vim 
---

## 命令模式
* i 在光标处插入字符
* a 在光标后插入
* o 在当前行下面插入新行，并进入插入模式
* dd 删除当前整行
* yy 复制当前行
* nyy 复制当前行之后的n行
* p 粘贴
* u 撤销
* r 替换当前字符
* x 删除当前光标所在处的字符
* / 查找关键字 按n键可在匹配的内容之间不停的切换

### 移动光标的方法
* h或左箭头，向指定方向移动一个字符（j或下箭头，k或上箭头，l或右箭头）
* 6l， 向右移动6个字符
* 5<space> 向右移动这一行的5个字符
* 5<enter> 向下移动5行
* w(向右移动到下一个单词的首个字符)，e(向右移动到下一个单词的最后一个字符)，b(向左移动到下一个单词的首个字符)
* 5w, 向右移动5个单词
* 0或[home], 移动到这一行的第一个字符
* $或[end], 移动到这一行的最后一个字符
* ctrl+f, [page down], 屏幕向下移动一页，ctrl+b, [page up], 屏幕向上移动一页
* ctrl+d, 屏幕向下移动半页， ctrl+u, 屏幕下上移动半页
* H,光标移动到当前屏幕最上方那一行的首个字符; M,移动到当前屏幕中央那一行的首个字符; L,移动到当前屏幕最下方那一行的首个字符
* G，移动到当前文件的最后一行; nG,移动到这个文件的第n行; gg(1G)，移动到这个文件的第一行

### 搜索与替换
* /word  向光标之下寻找一个名称为 word 的字符串
* ?word  向光标之上寻找一个名称为 word 的字符串
* n      这个 n 是英文按键。代表『重复前一个搜寻的动作』。举例来说， 如果刚刚我们执行 /vbird 去向下搜寻 vbird 这个字符串，则按下 n 后，会向下继续搜寻下一个名称为 vbird 的字符串。如果是执行 ?vbird 的话，那么按下 n 则会向上继续搜寻名称为 vbird 的字符串
* N      这个 N 是英文按键。与 n 刚好相反，为『反向』进行前一个搜寻动作。 例如 /vbird 后，按下 N 则表示『向上』搜寻 vbird 
* :n1,n2s/word1/word2/g   n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2
* :1,$s/word1/word2/g   从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2
* :1,$s/word1/word2/gc  从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代

### 删除、复制与粘贴
* x, 删除，相当于delete, nx,向后删除n个字符
* dd, ndd 删除整行
* d1G，删除光标所在行到第一行
* dG，删除光标所在行到最后一行
* d$，删除光标所在位置到该行最后一个字符
* d0，删除光标所在位置到该行第一个字符
* yy, nyy 复制整行
* y1G, 复制光标所在行到第一行
* yG, 复制光标所在行到最后一行
* y$，复制光标所在位置到该行最后一个字符
* y0，复制光标所在位置到该行第一个字符
* p, 在光标下一行粘贴，P，在光标上一行粘贴
* J 将光标所在行与下一列的数据结合成同一行
* u 撤销
* ctrl+r 重复上一个动作
* . 重复前一个动作

## 命令行模式
| 命令行模式      |               |
| ------------------ | ------------- |
| :w            | 保存当前修改|
| :q            | 退出|
| :q!           | 强制退出，不保存修改|
| :x            | 保存并退出，相当于:wq|
| :set number   | 显示行号|
| :!            | 系统命令 执行一个系统命令，并显示结果|
| :sh           | 切换到命令行，使用ctrl+d返回vim| 
| :w [filename] | 将编辑数据保存为另一文件，相当于另存为 | 
| :r [filename] | 在编辑数据中，读入另一文件的数据，将filename这个文件的内容加到光标所在行的后面  | 
| :n1,n2 w [filename] | 将当前文件的n1到n2行内容保存到filename这个文件里 | 

### 常用设定
* set number: 显示行号
* set cindent: 设定c风格缩进，可使用nocindent取消设定
* set autoindent: 设定自动缩进，每行缩进与上一行相等，可使用noautoindent取消设定
* set shiftwidth=2: 设定缩进为2个空格
* set tabstop=2: 设定tab制表符为2个空格
* set softtabstop=2: 设定软制表符为2个空格
* set expandtab=2: 缩进和软制表符使用空格替代，可用noexpandtab取消设定
* set ruler: 显示光标所在列号
* set mouse=v: 启用鼠标右键复制功能，默认mouse=a,屏蔽鼠标右键功能
* syntax on : 启用语法高亮

## Vim插件
* taglist
* ctags


